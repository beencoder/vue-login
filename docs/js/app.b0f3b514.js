(function(){"use strict";var e={7237:function(e,a,t){var n=t(9242),s=t(3396);function i(e,a,t,n,i,r){const o=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(o)}var r={name:"App"},o=t(89);const l=(0,o.Z)(r,[["render",i]]);var u=l,c=t(678);function d(e,a,t,n,i,r){const o=(0,s.up)("Login");return(0,s.wg)(),(0,s.j4)(o)}var m=t(7139);const p=e=>((0,s.dD)("data-v-31fcaf34"),e=e(),(0,s.Cn)(),e),g={class:"login-wrap"},h=p((()=>(0,s._)("h3",{class:"page__title"},"login",-1))),w={class:"inner"},f=p((()=>(0,s._)("label",{for:"email"},"아이디(이메일)",-1))),v=["value"],_={class:"inner"},b=p((()=>(0,s._)("label",{for:"password"},"비밀번호",-1))),k=["value"],y={class:"right"},M={key:0,class:"modal-wrap"},C={class:"modal"},N=p((()=>(0,s._)("h4",{class:"modal__title"},"비밀번호 재설정",-1))),I=["value"],x={class:"message"},U={class:"btn-wrap"},L=["disabled"];function D(e,a,t,i,r,o){const l=(0,s.up)("FixedLayout"),u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s._)("div",g,[h,(0,s._)("div",w,[f,(0,s._)("input",{type:"email",id:"email",value:r.email,onInput:a[0]||(a[0]=e=>r.email=e.target.value),placeholder:"아이디(이메일)를 입력해주세요."},null,40,v)]),(0,s._)("div",_,[b,(0,s._)("input",{type:"password",id:"password",value:r.password,onInput:a[1]||(a[1]=e=>r.password=e.target.value),placeholder:"비밀번호를 입력해주세요."},null,40,k)]),(0,s._)("button",{class:"guide",onClick:a[2]||(a[2]=e=>o.openModal())},"비밀번호를 잊으셨나요?"),(0,s._)("div",y,[(0,s._)("button",{class:"btn",onClick:a[3]||(a[3]=(...e)=>o.login&&o.login(...e))},"로그인"),(0,s.Wm)(u,{class:"btn",to:"/signUp"},{default:(0,s.w5)((()=>[(0,s.Uk)("가입하기")])),_:1})])]),r.showModal?((0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",C,[N,(0,s._)("input",{type:"email",id:"modalEmail",value:r.modalEmail,onInput:a[4]||(a[4]=e=>r.modalEmail=e.target.value),placeholder:"아이디(이메일)를 입력해주세요."},null,40,I),(0,s.wy)((0,s._)("span",x,"올바르지 않은 이메일 양식입니다.",512),[[n.F8,r.warningMessage]]),(0,s._)("div",U,[(0,s._)("button",{class:(0,m.C_)(["submit-btn",{disable:r.warningMessage||""===r.modalEmail}]),onClick:a[5]||(a[5]=e=>o.resetPassword()),disabled:r.warningMessage||""===r.modalEmail},"Submit",10,L),(0,s._)("button",{onClick:a[6]||(a[6]=e=>o.closeModal())},"Close")])])])):(0,s.kq)("",!0)],64)}t(7658);const S=e=>((0,s.dD)("data-v-083c0838"),e=e(),(0,s.Cn)(),e),E={class:"main-wrap"},Z={class:"member"},F={key:0,class:"member__name"},P={key:1,class:"member__name"},j=S((()=>(0,s._)("div",{class:"header__bg"},null,-1))),O={class:"menu"},W={key:0},A={key:1},q={key:2},B={key:3},R=S((()=>(0,s._)("div",{class:"side__left"},null,-1))),$=S((()=>(0,s._)("div",{class:"side__right"},null,-1)));function z(e,a,t,n,i,r){const o=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",E,[(0,s._)("header",{class:(0,m.C_)([{active:i.changeColor},"header"])},[(0,s._)("p",Z,[i.userName?((0,s.wg)(),(0,s.iD)("span",F,(0,m.zw)(i.userName),1)):((0,s.wg)(),(0,s.iD)("span",P,"방문자")),(0,s.Uk)("님, 반가워요 :)")]),(0,s._)("div",{onClick:a[0]||(a[0]=e=>i.focusMenu=!i.focusMenu),class:(0,m.C_)([{active:i.focusMenu},"menu-btn"])},[(0,s._)("span",{class:(0,m.C_)([{active:i.changeColor},"menu-btn__line top"])},null,2),(0,s._)("span",{class:(0,m.C_)([{active:i.changeColor},"menu-btn__line bottom"])},null,2)],2)],2),j,(0,s._)("nav",{class:(0,m.C_)([{active:i.focusMenu},"nav"])},[(0,s._)("ul",O,[(0,s._)("li",null,[(0,s.Wm)(o,{to:"/index"},{default:(0,s.w5)((()=>[(0,s.Uk)("home")])),_:1})]),r.isLoggedIn?((0,s.wg)(),(0,s.iD)("li",A,[(0,s.Wm)(o,{to:"/edit"},{default:(0,s.w5)((()=>[(0,s.Uk)("edit info")])),_:1})])):((0,s.wg)(),(0,s.iD)("li",W,[(0,s.Wm)(o,{to:{name:"SignUp",params:{id:"kimdabeen"}}},{default:(0,s.w5)((()=>[(0,s.Uk)("sign up")])),_:1})])),r.isLoggedIn?((0,s.wg)(),(0,s.iD)("li",B,[(0,s._)("button",{onClick:a[1]||(a[1]=(...e)=>r.logout&&r.logout(...e))},"logout")])):((0,s.wg)(),(0,s.iD)("li",q,[(0,s.Wm)(o,{to:"/login"},{default:(0,s.w5)((()=>[(0,s.Uk)("login")])),_:1})]))])],2),R,$])}var H=t(65),K=t(2415),V=new H.ZP.Store({state:{user:localStorage.getItem("userInfo")},getters:{getUser:e=>e.user},mutations:{login(e,a){e.user=a,localStorage.setItem("userInfo",a)},logout(e){e.user=null,localStorage.removeItem("userInfo")}},actions:{login({commit:e},{email:a}){e("login",a,{root:!0})},logout:({commit:e})=>!confirm("로그아웃 하겠습니까?")||(e("logout",{root:!0}),localStorage.removeItem("userInfo"),alert("로그아웃되었습니다."),!0)},plugins:[(0,K.Z)({paths:["token","user"]})]}),Y={name:"FixedLayout",data(){return{userName:V.state.user,focusMenu:!1,login:!1,changeColor:!1}},computed:{isLoggedIn(){return V.state.user||!1}},created(){},mounted(){window.addEventListener("transitionend",this.touchContent)},methods:{touchContent(){let e=document.querySelector(".header").getBoundingClientRect().bottom,a=document.querySelector(".nav").getBoundingClientRect().bottom;a>10?this.changeColor=!0:a<e&&(this.changeColor=!1)},logout(){V.dispatch("logout").then((()=>{localStorage.removeItem("userInfo"),this.$router.push("/login")}))}}};const G=(0,o.Z)(Y,[["render",z],["__scopeId","data-v-083c0838"]]);var J=G,T=t(4275),X=(t(4059),{name:"Login",components:{FixedLayout:J},data(){return{email:"",modalEmail:"",password:"",showModal:!1,warningMessage:!1}},watch:{modalEmail:function(e){""!==e&&!1===e.includes("@")?this.warningMessage=!0:this.warningMessage=!1}},created(){},methods:{login(){const{email:e,password:a}=this;e?a?T.Z.auth().signInWithEmailAndPassword(e,a).then((e=>{V.dispatch("login",{email:e.user.displayName}),alert("[로그인 완료] 환영합니다!"),this.$router.push("/index")})).catch((e=>{switch(e.code){case"auth/user-not-found":return alert("이메일 혹은 비밀번호가 일치하지 않습니다.");case"auth/network-request-failed":return alert("네트워크 연결에 실패하였습니다.");case"auth/internal-error":return alert("잘못된 요청입니다.");default:return alert(e.message)}})):alert("비밀번호를 입력해주세요."):alert("아이디(이메일)을 입력해주세요.")},openModal(){this.showModal=!0,document.body.classList.add("scroll-off")},async resetPassword(){try{await T.Z.auth().sendPasswordResetEmail(this.modalEmail),alert("비밀번호 재설정 메일을 보냈습니다! 메일함을 확인해주세요."),this.showModal=!1}catch(e){switch(e.code){case"auth/user-not-found":return alert("가입되어 있지 않은 이메일입니다.");case"auth/invalid-email":return alert("올바르지 않은 이메일 양식입니다.");default:return alert(e.message)}}},closeModal(){this.showModal=!1,document.body.classList.remove("scroll-off")}}});const Q=(0,o.Z)(X,[["render",D],["__scopeId","data-v-31fcaf34"]]);var ee=Q,ae={name:"Index",components:{Login:ee},data(){return{}}};const te=(0,o.Z)(ae,[["render",d]]);var ne=te;const se=e=>((0,s.dD)("data-v-85d59620"),e=e(),(0,s.Cn)(),e),ie={class:"signUp-wrap"},re=se((()=>(0,s._)("h3",{class:"page__title"},"sign up",-1))),oe={novalidate:""},le={class:"inner"},ue=se((()=>(0,s._)("label",{for:"nickName"},"닉네임",-1))),ce=["value"],de={class:"message"},me={class:"inner"},pe=se((()=>(0,s._)("label",{for:"email"},"아이디(이메일)",-1))),ge=["value"],he={class:"message"},we={class:"inner"},fe=se((()=>(0,s._)("label",{for:"password"},"비밀번호",-1))),ve=["value"],_e={class:"message"},be={class:"inner"},ke=se((()=>(0,s._)("label",{for:"passwordConfirm"},"비밀번호 확인",-1))),ye=["value"],Me={class:"message"},Ce={class:"right"},Ne=["disabled"];function Ie(e,a,t,i,r,o){const l=(0,s.up)("FixedLayout");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s._)("div",ie,[re,(0,s._)("form",oe,[(0,s._)("div",le,[ue,(0,s._)("input",{type:"text",id:"nickName",value:r.nickName,onInput:a[0]||(a[0]=e=>r.nickName=e.target.value),placeholder:"닉네임을 입력해주세요. (2~9자)",maxlength:"8"},null,40,ce),(0,s.wy)((0,s._)("span",de,"닉네임은 최소 2자리 이상이어야 합니다.",512),[[n.F8,r.warningMessage1]])]),(0,s._)("div",me,[pe,(0,s._)("input",{type:"email",id:"email",value:r.email,onInput:a[1]||(a[1]=e=>r.email=e.target.value),placeholder:"아이디(이메일)를 입력해주세요."},null,40,ge),(0,s.wy)((0,s._)("span",he,"올바르지 않은 이메일 양식입니다.",512),[[n.F8,r.warningMessage2]])]),(0,s._)("div",we,[fe,(0,s._)("input",{type:"password",id:"password",value:r.password,onInput:a[2]||(a[2]=e=>r.password=e.target.value),placeholder:"비밀번호를 입력해주세요."},null,40,ve),(0,s.wy)((0,s._)("span",_e,"비밀번호는 최소 6자리 이상이어야 합니다.",512),[[n.F8,r.warningMessage3]])]),(0,s._)("div",be,[ke,(0,s._)("input",{type:"password",id:"passwordConfirm",value:r.passwordConfirm,onInput:a[3]||(a[3]=e=>r.passwordConfirm=e.target.value),placeholder:"비밀번호를 다시 한 번 입력해주세요."},null,40,ye),(0,s.wy)((0,s._)("span",Me,"비밀번호가 일치하지 않습니다.",512),[[n.F8,r.warningMessage4]])])]),(0,s._)("div",Ce,[(0,s._)("button",{class:(0,m.C_)(["submit-btn",{disable:!1===r.activated}]),onClick:a[4]||(a[4]=(...e)=>o.signUp&&o.signUp(...e)),disabled:!0!==r.activated},"회원가입",10,Ne)])])],64)}var xe={name:"SignUp",components:{FixedLayout:J},props:{id:{type:String,default:"방문자"}},data(){return{nickName:"",email:"",password:"",passwordConfirm:"",activated:!1,warningMessage1:!1,warningMessage2:!1,warningMessage3:!1,warningMessage4:!1,user:{}}},watch:{nickName:function(e){""!==e&&e.length<2?(this.warningMessage1=!0,this.activated=!1):this.warningMessage1=!1,this.checkedInput(e,this.email,this.password,this.passwordConfirm)},email:function(e){""!==e&&!1===e.includes("@")?(this.warningMessage2=!0,this.activated=!1):this.warningMessage2=!1,this.checkedInput(this.nickName,e,this.password,this.passwordConfirm)},password:function(e){""!==e&&e.length<6?(this.warningMessage3=!0,this.activated=!1):this.warningMessage3=!1,e!==this.passwordConfirm&&""!==this.passwordConfirm?this.warningMessage4=!0:this.warningMessage4=!1,this.checkedInput(this.nickName,this.email,e,this.passwordConfirm)},passwordConfirm:function(e){""!==e&&e!==this.password?(this.warningMessage4=!0,this.activated=!1):this.warningMessage4=!1,this.checkedInput(this.nickName,this.email,this.password,e)}},methods:{checkedInput(e,a,t,n){e.length>=2&&a.includes("@")&&t.length>=6&&n===this.password&&(this.activated=!0)},signUp(){const{email:e,password:a}=this;T.Z.auth().createUserWithEmailAndPassword(e,a).then((e=>{e.user.updateProfile({displayName:this.nickName}),alert("[회원가입 완료] 환영합니다!"),this.$router.push("/login")})).catch((e=>{switch(e.code){case"auth/email-already-in-use":return alert("이미 사용 중인 이메일입니다.");case"auth/network-request-failed":return alert("네트워크 연결에 실패하였습니다.");case"auth/invalid-email":return alert("잘못된 이메일 형식입니다.");case"auth/internal-error":return alert("잘못된 요청입니다.");default:return alert(e.message)}}))}}};const Ue=(0,o.Z)(xe,[["render",Ie],["__scopeId","data-v-85d59620"]]);var Le=Ue;const De=e=>((0,s.dD)("data-v-1a2c4acb"),e=e(),(0,s.Cn)(),e),Se={class:"edit-wrap"},Ee=De((()=>(0,s._)("h3",{class:"page__title"},"edit info",-1))),Ze={novalidate:""},Fe={class:"inner"},Pe=De((()=>(0,s._)("label",{for:"nickName"},"닉네임",-1))),je=["value"],Oe={class:"message"},We={class:"inner"},Ae=De((()=>(0,s._)("label",{for:"email"},"아이디(이메일)",-1))),qe=["value"],Be={class:"right"},Re=["disabled"];function $e(e,a,t,i,r,o){const l=(0,s.up)("FixedLayout");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s._)("div",Se,[Ee,(0,s._)("form",Ze,[(0,s._)("div",Fe,[Pe,(0,s._)("input",{type:"text",id:"nickName",value:r.newNickName,onInput:a[0]||(a[0]=e=>r.newNickName=e.target.value),placeholder:"닉네임을 입력해주세요. (2~9자)",maxlength:"9"},null,40,je),(0,s.wy)((0,s._)("span",Oe,"닉네임은 최소 2자리 이상이어야 합니다.",512),[[n.F8,r.warningMessage]])]),(0,s._)("div",We,[Ae,(0,s._)("input",{type:"email",id:"email",value:r.email,disabled:""},null,8,qe)])]),(0,s._)("div",Be,[(0,s._)("button",{class:(0,m.C_)(["submit-btn",{disable:r.warningMessage||""===r.newNickName}]),onClick:a[1]||(a[1]=(...e)=>o.changeName&&o.changeName(...e)),disabled:r.warningMessage||""===r.newNickName},"회원정보 수정",10,Re)])])],64)}var ze={name:"Edit",components:{FixedLayout:J},props:{id:{type:String,default:"방문자"}},data(){return{newNickName:"",email:"",warningMessage:!1}},watch:{newNickName:function(e){""!==e&&e.length<2?this.warningMessage=!0:this.warningMessage=!1}},created(){this.findUser()},methods:{findUser(){const e=T.Z.auth().currentUser;null!==e&&(this.newNickName=e.displayName,this.email=e.email)},async changeName(){const e=T.Z.auth().currentUser;null!==e&&e.updateProfile({displayName:this.newNickName}).then((()=>{alert("프로필 수정을 완료하였습니다!"),V.state.user=this.newNickName,this.$router.push("/index")})).catch((e=>{alert(e.message)}))}}};const He=(0,o.Z)(ze,[["render",$e],["__scopeId","data-v-1a2c4acb"]]);var Ke=He;const Ve=[{path:"/",redirect:"/index"},{path:"/index",name:"Index",component:ne},{path:"/signUp",name:"SignUp",component:Le,props:!0},{path:"/login",name:"Login",component:ee},{path:"/edit",name:"Edit",component:Ke}],Ye=(0,c.p7)({history:(0,c.PO)(),routes:Ve});var Ge=Ye;const Je={apiKey:"AIzaSyAcgKVRK7v00jclp87pDpnXBJPVNmafkLw",authDomain:"vue-firebase-27018.firebaseapp.com",databaseURL:"https://vue-firebase-27018-default-rtdb.firebaseio.com",projectId:"vue-firebase-27018",storageBucket:"vue-firebase-27018.appspot.com",messagingSenderId:"744106227744",appId:"1:744106227744:web:c9ab4467f3b14c340f6445",measurementId:"G-32GP3JZB8V"};T.Z.initializeApp(Je),(0,n.ri)(u).use(Ge).mount("#app")}},a={};function t(n){var s=a[n];if(void 0!==s)return s.exports;var i=a[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(a,n,s,i){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],i=e[c][2];for(var o=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(t.O).every((function(e){return t.O[e](n[l])}))?n.splice(l--,1):(o=!1,i<r&&(r=i));if(o){e.splice(c--,1);var u=s();void 0!==u&&(a=u)}}return a}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,s,i]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var s,i,r=n[0],o=n[1],l=n[2],u=0;if(r.some((function(a){return 0!==e[a]}))){for(s in o)t.o(o,s)&&(t.m[s]=o[s]);if(l)var c=l(t)}for(a&&a(n);u<r.length;u++)i=r[u],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},n=self["webpackChunkvue_proj"]=self["webpackChunkvue_proj"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(7237)}));n=t.O(n)})();
//# sourceMappingURL=app.b0f3b514.js.map